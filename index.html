<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patience Meter</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="meter-container">
        <label for="patience-slider">Patience Level</label>
        <input type="range" id="patience-slider" min="0" max="10" value="5" step="1">
        <div class="patience-display">
            <span id="patience-value">5</span>/10
        </div>
        <div id="patience-message">Your patience level is moderate</div>
    </div>
    <script>
        const slider = document.getElementById('patience-slider');
        const valueDisplay = document.getElementById('patience-value');
        const messageDisplay = document.getElementById('patience-message');

        const messages = {
            0: "Dan is officially done!",
            1: "Dan's patience is wearing very thin",
            2: "Dan needs to check his blood pressure",
            3: "Dan could use some more patience",
            4: "Dan's patience is below average",
            5: "Dan's patience level is moderate",
            6: "Dan's showing good patience",
            7: "Dan's quite patient",
            8: "Dan has great patience!",
            9: "Dan's extremely patient!",
            10: "Dan has achieved zen-like patience!"
        };

        function getColor(value) {
            value = parseInt(value);
            if (value <= 3) return '#ff4444';  // Red
            if (value <= 7) return '#ffaa00';  // Yellow
            return '#4CAF50';  // Green
        }

        function updateDisplay(value) {
            const color = getColor(value);
            valueDisplay.textContent = value;
            messageDisplay.textContent = messages[value];
            document.documentElement.style.setProperty('--patience-color', color);
            document.documentElement.style.setProperty('--patience-level', value * 10 + '%');
        }

        // Initial update
        updateDisplay(slider.value);

        // Get level from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const levelParam = urlParams.get('level');
        if (levelParam !== null) {
            const parsedLevel = parseInt(levelParam);
            const level = Math.min(Math.max(isNaN(parsedLevel) ? 5 : parsedLevel, 0), 10);
            slider.value = level;
            updateDisplay(level);
        }

        slider.addEventListener('input', function() {
            updateDisplay(this.value);
        });
    </script>
</body>
</html> 